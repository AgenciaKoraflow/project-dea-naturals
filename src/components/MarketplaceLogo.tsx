import { Globe } from 'lucide-react';
import mercadoLivreLogo from '@/assets/logos/mercadolivre.png';
import magaluLogo from '@/assets/logos/magalu.png';

interface MarketplaceLogoProps {
  name: string;
  className?: string;
}

export function MarketplaceLogo({ name, className = "h-6 w-6" }: MarketplaceLogoProps) {
  const lowerName = name.toLowerCase();

  // Mercado Livre - usar imagem baixada
  if (lowerName.includes('mercado') || lowerName.includes('livre')) {
    return (
      <img 
        src={mercadoLivreLogo} 
        alt="Mercado Livre" 
        className={`${className} object-contain`}
      />
    );
  }

  // Amazon - SVG oficial
  if (lowerName.includes('amazon')) {
    return (
      <svg viewBox="0 0 603 182" className={className} aria-label="Amazon">
        <g fill="none" fillRule="evenodd">
          <path fill="#FF9900" d="M374.006 142.184c-34.693 25.567-84.989 39.202-128.288 39.202-60.713 0-115.417-22.442-156.787-59.777-3.251-2.939-.338-6.947 3.562-4.664 44.649 25.976 99.892 41.612 156.957 41.612 38.476 0 80.786-7.978 119.725-24.486 5.868-2.49 10.791 3.859 4.831 8.113"/>
          <path fill="#FF9900" d="M387.648 126.627c-4.431-5.674-29.326-2.683-40.494-1.353-3.404.416-3.925-2.552-.858-4.688 19.835-13.952 52.363-9.927 56.159-5.253 3.806 4.695-.991 37.267-19.617 52.813-2.865 2.397-5.59 1.118-4.323-2.055 4.193-10.476 13.564-33.8 9.133-39.464"/>
          <path fill="#221F1F" d="M348.027 22.615V7.076c0-2.36 1.787-3.934 3.934-3.934h69.587c2.236 0 4.023 1.614 4.023 3.934v13.285c-.022 2.236-1.916 5.16-5.268 9.699l-36.037 51.46c13.388-.329 27.534 1.668 39.68 8.52 2.743 1.548 3.486 3.818 3.694 6.055v16.571c0 2.27-2.505 4.915-5.137 3.543-21.449-11.249-49.932-12.472-73.666.13-2.42 1.307-4.959-1.306-4.959-3.576v-15.749c0-2.54.032-6.879 2.775-10.737l41.753-59.886h-36.34c-2.237 0-4.023-1.58-4.023-3.892l-.016-.884zM124.578 105.549h-21.165c-2.022-.147-3.633-1.67-3.795-3.608V7.27c0-2.176 1.811-3.91 4.052-3.91h19.727c2.055.09 3.698 1.668 3.86 3.64v13.863h.393c5.169-13.469 14.884-19.752 27.972-19.752 13.285 0 21.592 6.283 27.555 19.752 5.137-13.469 16.811-19.752 29.349-19.752 8.897 0 18.612 3.666 24.549 11.907 6.726 9.175 5.352 22.51 5.352 34.209l-.022 54.627c0 2.177-1.81 3.932-4.051 3.932h-21.133c-2.1-.147-3.783-1.833-3.783-3.932V56.16c0-4.599.394-16.11-.592-20.446-1.574-7.283-6.316-9.329-12.448-9.329-5.137 0-10.503 3.426-12.698 8.91-2.192 5.483-1.98 14.658-1.98 20.865v45.694c0 2.177-1.811 3.932-4.052 3.932h-21.132c-2.122-.147-3.783-1.833-3.783-3.932l-.022-45.694c0-12.176 1.998-30.102-13.04-30.102-15.235 0-14.646 17.467-14.646 30.102v45.694c0 2.177-1.81 3.932-4.051 3.932l.384.323zM469.492 1.111c31.402 0 48.41 26.972 48.41 61.25 0 33.122-18.778 59.406-48.41 59.406-30.81 0-47.588-26.972-47.588-60.561 0-33.786 16.975-60.095 47.588-60.095zm.197 22.181c-15.629 0-16.614 21.29-16.614 34.56 0 13.284-.197 41.668 16.417 41.668 16.417 0 17.205-22.888 17.205-36.829 0-9.175-.394-20.158-3.173-28.875-2.39-7.58-7.133-10.524-13.835-10.524zM560.762 105.549h-21.068c-2.099-.147-3.782-1.833-3.782-3.932l-.023-94.367c.18-1.976 1.899-3.531 4.052-3.531h19.616c1.834.09 3.349 1.329 3.761 2.982v14.427h.394c5.891-13.141 14.169-19.395 28.76-19.395 9.504 0 18.778 3.427 24.721 12.863 5.533 8.748 5.533 23.46 5.533 34.012v53.379c-.229 1.9-1.932 3.41-4.052 3.41h-21.199c-1.966-.144-3.573-1.576-3.763-3.41V55.242c0-11.914 1.38-29.382-13.237-29.382-5.137 0-9.87 3.44-12.224 8.66-2.978 6.611-3.37 13.188-3.37 20.722v46.611c-.022 2.177-1.866 3.932-4.095 3.932l-.024-.236zM296.088 60.234c0 8.28.197 15.188-3.976 22.545-3.37 5.999-8.704 9.69-14.646 9.69-8.114 0-12.888-6.184-12.888-15.319 0-18.024 16.147-21.305 31.51-21.305v4.389zm21.362 51.673c-1.398 1.248-3.424 1.336-5.006.501-7.035-5.846-8.302-8.554-12.162-14.125-11.627 11.86-19.87 15.406-34.943 15.406-17.84 0-31.73-11.003-31.73-33.028 0-17.203 9.325-28.923 22.61-34.648 11.52-5.062 27.61-5.965 39.91-7.36v-2.747c0-5.044.394-11.01-2.581-15.364-2.581-3.902-7.527-5.511-11.897-5.511-8.082 0-15.28 4.145-17.042 12.733-.36 1.912-1.764 3.799-3.684 3.894l-20.494-2.2c-1.736-.388-3.66-1.787-3.171-4.44C241.25 6.7 260.04.357 276.762.357c8.507 0 19.616 2.265 26.341 8.709 8.507 7.939 7.692 18.524 7.692 30.048v27.235c0 8.185 3.395 11.775 6.588 16.202 1.117 1.582 1.363 3.474-.063 4.656-3.563 2.982-9.901 8.52-13.38 11.626l-.49-.926z"/>
        </g>
      </svg>
    );
  }

  // Magazine Luiza - usar imagem baixada
  if (lowerName.includes('magalu') || lowerName.includes('magazine') || lowerName.includes('luiza')) {
    return (
      <img 
        src={magaluLogo} 
        alt="Magazine Luiza" 
        className={`${className} object-contain`}
      />
    );
  }

  // Shopee - SVG oficial
  if (lowerName.includes('shopee')) {
    return (
      <svg viewBox="0 0 120 36" className={className} aria-label="Shopee">
        <g fill="#EE4D2D" fillRule="evenodd">
          <path d="M19.615 13.025c-.49-3.326-2.886-5.757-6.162-6.319a12.143 12.143 0 0 0-1.04-.095l-.155-.002c-.405-.005-.808.01-1.21.042-3.534.28-6.344 2.635-7.134 5.995-.105.445-.17.9-.197 1.357-.016.277-.02.556-.01.837.018.486.075.969.17 1.443.512 2.564 2.119 4.5 4.383 5.604a9.13 9.13 0 0 0 3.84.935c.19.007.381.007.572 0a9.017 9.017 0 0 0 3.665-.847c2.52-1.155 4.216-3.396 4.619-6.172.087-.6.106-1.21.056-1.814-.032-.327-.082-.651-.153-.964h-.244zm-6.748 8.117a5.52 5.52 0 0 1-2.66-.65c-1.623-.839-2.712-2.2-3.094-3.868a5.78 5.78 0 0 1-.106-.628 7.52 7.52 0 0 1-.038-.715c-.005-.276.01-.553.043-.827a5.797 5.797 0 0 1 .224-.947c.563-1.776 1.928-3.08 3.748-3.58.37-.101.75-.166 1.134-.193a7.13 7.13 0 0 1 .749-.023c.258.002.516.018.772.05 2.055.253 3.69 1.477 4.385 3.285.226.589.345 1.218.35 1.858.003.258-.013.516-.047.772a5.694 5.694 0 0 1-.332 1.266c-.623 1.667-2.017 2.915-3.833 3.432a5.87 5.87 0 0 1-1.295.22 6.98 6.98 0 0 1-1 .048z"/>
          <path d="M37.863 6.2c-1.44 0-2.636.323-3.591.968-.955.645-1.663 1.563-2.124 2.753-.358.926-.537 2.003-.537 3.231 0 1.364.223 2.54.67 3.526.536 1.183 1.306 2.072 2.31 2.666 1.004.594 2.191.891 3.561.891 1.317 0 2.447-.287 3.392-.861.945-.574 1.66-1.4 2.146-2.478.485-1.078.728-2.351.728-3.819 0-1.273-.188-2.371-.564-3.294-.467-1.144-1.176-2.02-2.127-2.627-.951-.607-2.118-.911-3.5-.911h-.364v.055zm.075 11.03c-.742 0-1.35-.16-1.823-.48-.473-.32-.824-.794-1.053-1.42-.23-.626-.344-1.394-.344-2.304 0-.885.111-1.627.333-2.226.222-.6.56-1.053 1.014-1.36.454-.306 1.029-.46 1.724-.46.716 0 1.296.152 1.741.457.445.305.775.756.99 1.352.215.597.323 1.333.323 2.21 0 .932-.108 1.712-.324 2.34-.216.628-.55 1.101-1.002 1.42-.453.318-1.028.477-1.726.477h.147v-.006zM51.97 6.363v13.435h3.128V13.22c0-.716.158-1.298.474-1.746.316-.448.74-.672 1.272-.672.532 0 .945.21 1.24.63.295.42.443.997.443 1.73v6.636h3.128v-7.09c0-.98-.155-1.815-.465-2.504a3.413 3.413 0 0 0-1.338-1.57c-.582-.364-1.29-.546-2.124-.546-.678 0-1.274.14-1.788.42a3.226 3.226 0 0 0-1.235 1.14h-.057V6.363h-2.678zm18.155 8.34c-.113.41-.31.744-.591 1.002-.282.258-.643.387-1.085.387-.493 0-.892-.144-1.196-.432-.305-.288-.495-.7-.57-1.237h6.436v-.813c0-1.028-.174-1.93-.523-2.705a4.07 4.07 0 0 0-1.523-1.82c-.665-.436-1.472-.653-2.421-.653-1.018 0-1.886.238-2.604.715a4.412 4.412 0 0 0-1.614 1.954c-.364.824-.546 1.751-.546 2.78 0 1.003.195 1.92.585 2.753.39.833.96 1.494 1.71 1.984.75.49 1.66.735 2.727.735.94 0 1.749-.175 2.426-.526a3.81 3.81 0 0 0 1.55-1.454c.37-.618.583-1.321.64-2.109h-3.003c-.072.5-.226.93-.398 1.439zm-2.196-4.337c.27-.27.623-.405 1.058-.405.435 0 .785.132 1.05.396.265.264.424.637.475 1.12h-3.052c.047-.474.199-.841.469-1.11zM80.93 6.363v13.435h3.128V13.22c0-.716.158-1.298.474-1.746.316-.448.74-.672 1.272-.672.532 0 .945.21 1.24.63.295.42.443.997.443 1.73v6.636h3.128v-7.09c0-.98-.155-1.815-.465-2.504a3.413 3.413 0 0 0-1.338-1.57c-.582-.364-1.29-.546-2.124-.546-.678 0-1.274.14-1.788.42a3.226 3.226 0 0 0-1.235 1.14h-.057V6.363h-2.678zM95.4 14.703c-.113.41-.31.744-.591 1.002-.282.258-.643.387-1.085.387-.493 0-.892-.144-1.196-.432-.305-.288-.495-.7-.57-1.237h6.436v-.813c0-1.028-.174-1.93-.523-2.705a4.07 4.07 0 0 0-1.523-1.82c-.665-.436-1.472-.653-2.421-.653-1.018 0-1.886.238-2.604.715a4.412 4.412 0 0 0-1.614 1.954c-.364.824-.546 1.751-.546 2.78 0 1.003.195 1.92.585 2.753.39.833.96 1.494 1.71 1.984.75.49 1.66.735 2.727.735.94 0 1.749-.175 2.426-.526a3.81 3.81 0 0 0 1.55-1.454c.37-.618.583-1.321.64-2.109h-3.003c-.072.5-.226.93-.398 1.439zm-2.196-4.337c.27-.27.623-.405 1.058-.405.435 0 .785.132 1.05.396.265.264.424.637.475 1.12h-3.052c.047-.474.199-.841.469-1.11z"/>
        </g>
      </svg>
    );
  }

  // Site Próprio - usar ícone Globe
  if (lowerName.includes('site') || lowerName.includes('próprio') || lowerName.includes('proprio')) {
    return (
      <div className={`${className} flex items-center justify-center rounded-full bg-primary/10`}>
        <Globe className="h-3/4 w-3/4 text-primary" />
      </div>
    );
  }

  // Default icon
  return (
    <div className={`${className} flex items-center justify-center rounded-full bg-muted`}>
      <Globe className="h-3/4 w-3/4 text-muted-foreground" />
    </div>
  );
}

export function getMarketplaceName(marketplaces: { id: string; name: string }[] | undefined, id: string): string {
  if (!marketplaces) return 'Carregando...';
  const marketplace = marketplaces.find(m => m.id === id);
  return marketplace?.name || 'Desconhecido';
}